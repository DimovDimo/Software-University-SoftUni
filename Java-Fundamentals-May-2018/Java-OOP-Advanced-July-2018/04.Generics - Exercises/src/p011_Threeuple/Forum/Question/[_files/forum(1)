"use strict";var forum=forum||{},Suls;forum.eventHandlers=function(){var n=function(n){var t;return $($.parseHTML(n)).each(function(n,i){var r=$(i);if(r.is("form"))return t=r,!1}),t},t=function(n){var t="";return n.indexOf("question")===0?t="question":n.indexOf("answer")===0?t="answer":n.indexOf("comment")===0&&(t="comment"),t},i=function(i){var r=n(i),u=r.data("postId"),o=r.data("postIdFormat"),f=t(o),e=r.data("votes"),s=parseInt($(this).data("votes"));$("#"+f+"-votes-count-"+u).text(e);s===0?$("#"+f+"-votes-icon-"+u).html('<i class="fa fa-hand-o-'+(e>0?"up":"down")+'"><\/i>'):e===0&&$("#"+f+"-votes-icon-"+u).html('<i class="fa fa-hand-o-right"><\/i>')},r=function(n){var t=n.Message||"",i,u,r;t=t.replace(/"[^"]*"/g,"");i=$(this);u=i.data("successMessageContainerId");i.hide();r=$("#"+u);r.html(t);setTimeout(function(){r.html("")},3e3)},u=function(n){var t=JSON.parse(n.responseText).Message||"Възникна неочаквана грешка. Моля, опитайте по-късно.";t=t.replace(/"[^"]*"/g,"");$(this).find(".post-action-errors").html(t)},f=function(n){var t=$(n).closest("form"),i=t.find(".cke");i&&sulsControls.Editors.ckeditor.resetCKEditor(i);t.remove()},e=function(){window.location.reload()},o=function(){var t=".insufficient-forum-points-tooltip",n=$(t),i;n.hide();n.click(function(){n.hide()});i=$(this).find(t)[0];$(i).show()};return{updatePostVotes:i,postActionFailure:u,postReportSuccess:r,hideForm:f,reloadPage:e,showNotEnoughForumPointsTooltip:o}}();forum=forum||{};forum.categoriesTree=function(){return{selectCategory:function(n){if(n){var t=$("#categoryId-"+n);t.parents(".dropdown-menu").length?(t.addClass("selected"),t.parents(".dropdown-item").toggleClass("open")):t.addClass("selected-main")}},attachCollapseEventHandlers:function(){$(".collapse-btn").on("click",function(n){var t=$(this).parent();n.preventDefault();t.hasClass("open")?t.removeClass("open"):t.toggleClass("open")})}}}();Suls=Suls||{};Suls.FormHelper=function(){function n(n){$(n).find("input[type = 'submit']").attr("disabled",!0)}function t(n){$(n).find("input[type = 'submit']").attr("disabled",!1)}function i(n){var t=$(n).closest("form");t.remove()}function r(){var n=$(this).data("ajax-update");$("html, body").animate({scrollTop:$(n).offset().top},"slow")}function u(n){$(this).hide();var t=$($.parseHTML(n)[1]).prop("id");$("html, body").animate({scrollTop:$("#"+t).offset().top},"slow")}function f(n){var t=JSON.parse(n.responseText).Message||"Възникна неочаквана грешка. Моля, опитайте по-късно.";t=t.replace(/"[^"]*"/g,"");alert(t)}function e(n,t){$(n).submit(function(){return $(this).valid()&&confirm(t)})}return{disableSubmitButton:n,enableSubmitButton:t,hideForm:i,scrollToForm:r,scrollToElement:u,postActionFailure:f,onSubmitConfirmationAlert:e}}();forum=forum||{};forum.helper=function(){return{clearCkEditorTextAndScrollToElement:function(n){for(var t in CKEDITOR.instances)CKEDITOR.instances[t].resetDirty();Suls.FormHelper.scrollToElement.call(this,n)}}}()